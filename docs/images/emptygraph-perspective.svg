<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 700">
  <defs>
    <!-- Gradient for nodes -->
    <linearGradient id="nodeGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#667eea;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#764ba2;stop-opacity:1" />
    </linearGradient>

    <!-- Different gradients for different event types -->
    <linearGradient id="createGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#11998e;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#38ef7d;stop-opacity:1" />
    </linearGradient>

    <linearGradient id="actionGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#667eea;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#764ba2;stop-opacity:1" />
    </linearGradient>

    <linearGradient id="paymentGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#f093fb;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#f5576c;stop-opacity:1" />
    </linearGradient>

    <linearGradient id="completeGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#4facfe;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#00f2fe;stop-opacity:1" />
    </linearGradient>

    <!-- Arrow marker -->
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#6b7280"/>
    </marker>

    <!-- Glow filter for nodes -->
    <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
      <feMerge>
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>

    <!-- Shadow filter -->
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="4" stdDeviation="4" flood-color="#000" flood-opacity="0.15"/>
    </filter>
  </defs>

  <!-- Background -->
  <rect width="900" height="700" fill="#fafbfc"/>

  <!-- Subtle grid pattern -->
  <pattern id="grid" width="40" height="40" patternUnits="userSpaceOnUse">
    <path d="M 40 0 L 0 0 0 40" fill="none" stroke="#e5e7eb" stroke-width="0.5"/>
  </pattern>
  <rect width="900" height="700" fill="url(#grid)"/>

  <!-- Title -->
  <text x="450" y="45" text-anchor="middle" font-family="system-ui, -apple-system, sans-serif" font-size="24" font-weight="600" fill="#1f2937">
    EMPTY GRAPH: Logical View
  </text>
  <text x="450" y="70" text-anchor="middle" font-family="system-ui, -apple-system, sans-serif" font-size="14" fill="#6b7280">
    Events and Relationships (DAG Structure)
  </text>

  <!-- Edges (drawn first so nodes appear on top) -->
  <!-- OrderCreated -> ItemAdded #1 -->
  <path d="M 450 175 C 450 220, 280 220, 280 265"
        fill="none" stroke="#6b7280" stroke-width="2.5" marker-end="url(#arrowhead)"/>

  <!-- OrderCreated -> ItemAdded #2 -->
  <path d="M 450 175 C 450 220, 620 220, 620 265"
        fill="none" stroke="#6b7280" stroke-width="2.5" marker-end="url(#arrowhead)"/>

  <!-- ItemAdded #1 -> PaymentReceived -->
  <path d="M 280 345 C 280 390, 450 390, 450 415"
        fill="none" stroke="#6b7280" stroke-width="2.5" marker-end="url(#arrowhead)"/>

  <!-- ItemAdded #2 -> PaymentReceived -->
  <path d="M 620 345 C 620 390, 450 390, 450 415"
        fill="none" stroke="#6b7280" stroke-width="2.5" marker-end="url(#arrowhead)"/>

  <!-- PaymentReceived -> OrderShipped -->
  <path d="M 450 495 L 450 545"
        fill="none" stroke="#6b7280" stroke-width="2.5" marker-end="url(#arrowhead)"/>

  <!-- Edge labels -->
  <text x="340" y="215" font-family="system-ui, -apple-system, sans-serif" font-size="10" fill="#9ca3af" font-style="italic">depends on</text>
  <text x="520" y="215" font-family="system-ui, -apple-system, sans-serif" font-size="10" fill="#9ca3af" font-style="italic">depends on</text>
  <text x="340" y="385" font-family="system-ui, -apple-system, sans-serif" font-size="10" fill="#9ca3af" font-style="italic">requires</text>
  <text x="520" y="385" font-family="system-ui, -apple-system, sans-serif" font-size="10" fill="#9ca3af" font-style="italic">requires</text>
  <text x="460" y="525" font-family="system-ui, -apple-system, sans-serif" font-size="10" fill="#9ca3af" font-style="italic">triggers</text>

  <!-- Node 1: OrderCreated (root) -->
  <g filter="url(#shadow)">
    <rect x="350" y="100" width="200" height="75" rx="12" fill="url(#createGradient)" filter="url(#glow)"/>
    <text x="450" y="128" text-anchor="middle" font-family="system-ui, -apple-system, sans-serif" font-size="16" font-weight="600" fill="white">OrderCreated</text>
    <rect x="365" y="138" width="170" height="28" rx="4" fill="rgba(255,255,255,0.2)"/>
    <text x="375" y="156" font-family="monospace" font-size="9" fill="rgba(255,255,255,0.9)">{"orderId": "ORD-001"}</text>
  </g>

  <!-- Node 2: ItemAdded #1 -->
  <g filter="url(#shadow)">
    <rect x="165" y="270" width="230" height="75" rx="12" fill="url(#actionGradient)" filter="url(#glow)"/>
    <text x="280" y="298" text-anchor="middle" font-family="system-ui, -apple-system, sans-serif" font-size="16" font-weight="600" fill="white">ItemAdded</text>
    <rect x="180" y="308" width="200" height="28" rx="4" fill="rgba(255,255,255,0.2)"/>
    <text x="190" y="326" font-family="monospace" font-size="9" fill="rgba(255,255,255,0.9)">{"sku": "WIDGET-A", "qty": 2}</text>
  </g>

  <!-- Node 3: ItemAdded #2 -->
  <g filter="url(#shadow)">
    <rect x="505" y="270" width="230" height="75" rx="12" fill="url(#actionGradient)" filter="url(#glow)"/>
    <text x="620" y="298" text-anchor="middle" font-family="system-ui, -apple-system, sans-serif" font-size="16" font-weight="600" fill="white">ItemAdded</text>
    <rect x="520" y="308" width="200" height="28" rx="4" fill="rgba(255,255,255,0.2)"/>
    <text x="530" y="326" font-family="monospace" font-size="9" fill="rgba(255,255,255,0.9)">{"sku": "GADGET-B", "qty": 1}</text>
  </g>

  <!-- Node 4: PaymentReceived (convergence point) -->
  <g filter="url(#shadow)">
    <rect x="330" y="420" width="240" height="75" rx="12" fill="url(#paymentGradient)" filter="url(#glow)"/>
    <text x="450" y="448" text-anchor="middle" font-family="system-ui, -apple-system, sans-serif" font-size="16" font-weight="600" fill="white">PaymentReceived</text>
    <rect x="345" y="458" width="210" height="28" rx="4" fill="rgba(255,255,255,0.2)"/>
    <text x="355" y="476" font-family="monospace" font-size="9" fill="rgba(255,255,255,0.9)">{"amount": 149.99, "method": "card"}</text>
  </g>

  <!-- Node 5: OrderShipped -->
  <g filter="url(#shadow)">
    <rect x="340" y="550" width="220" height="75" rx="12" fill="url(#completeGradient)" filter="url(#glow)"/>
    <text x="450" y="578" text-anchor="middle" font-family="system-ui, -apple-system, sans-serif" font-size="16" font-weight="600" fill="white">OrderShipped</text>
    <rect x="355" y="588" width="190" height="28" rx="4" fill="rgba(255,255,255,0.2)"/>
    <text x="365" y="606" font-family="monospace" font-size="9" fill="rgba(255,255,255,0.9)">{"tracking": "1Z999..."}</text>
  </g>

  <!-- Legend -->
  <g transform="translate(30, 480)">
    <rect x="0" y="0" width="130" height="180" rx="8" fill="white" stroke="#e5e7eb" stroke-width="1"/>
    <text x="65" y="25" text-anchor="middle" font-family="system-ui, -apple-system, sans-serif" font-size="12" font-weight="600" fill="#374151">Event Types</text>

    <rect x="15" y="40" width="16" height="16" rx="3" fill="url(#createGradient)"/>
    <text x="40" y="52" font-family="system-ui, -apple-system, sans-serif" font-size="10" fill="#6b7280">Creation</text>

    <rect x="15" y="65" width="16" height="16" rx="3" fill="url(#actionGradient)"/>
    <text x="40" y="77" font-family="system-ui, -apple-system, sans-serif" font-size="10" fill="#6b7280">Action</text>

    <rect x="15" y="90" width="16" height="16" rx="3" fill="url(#paymentGradient)"/>
    <text x="40" y="102" font-family="system-ui, -apple-system, sans-serif" font-size="10" fill="#6b7280">Payment</text>

    <rect x="15" y="115" width="16" height="16" rx="3" fill="url(#completeGradient)"/>
    <text x="40" y="127" font-family="system-ui, -apple-system, sans-serif" font-size="10" fill="#6b7280">Completion</text>

    <line x1="15" y1="150" x2="45" y2="150" stroke="#6b7280" stroke-width="2" marker-end="url(#arrowhead)"/>
    <text x="55" y="154" font-family="system-ui, -apple-system, sans-serif" font-size="10" fill="#6b7280">Edge</text>
  </g>

  <!-- Key concepts callout -->
  <g transform="translate(700, 100)">
    <rect x="0" y="0" width="180" height="140" rx="8" fill="#f0fdf4" stroke="#86efac" stroke-width="1"/>
    <text x="90" y="25" text-anchor="middle" font-family="system-ui, -apple-system, sans-serif" font-size="12" font-weight="600" fill="#166534">Key Concepts</text>

    <circle cx="20" cy="50" r="4" fill="#22c55e"/>
    <text x="30" y="54" font-family="system-ui, -apple-system, sans-serif" font-size="10" fill="#166534">Nodes = Events</text>

    <circle cx="20" cy="75" r="4" fill="#22c55e"/>
    <text x="30" y="79" font-family="system-ui, -apple-system, sans-serif" font-size="10" fill="#166534">Edges = Causality</text>

    <circle cx="20" cy="100" r="4" fill="#22c55e"/>
    <text x="30" y="104" font-family="system-ui, -apple-system, sans-serif" font-size="10" fill="#166534">Data in nodes</text>

    <circle cx="20" cy="125" r="4" fill="#22c55e"/>
    <text x="30" y="129" font-family="system-ui, -apple-system, sans-serif" font-size="10" fill="#166534">DAG structure</text>
  </g>

  <!-- Convergence callout -->
  <g transform="translate(700, 380)">
    <rect x="0" y="0" width="180" height="70" rx="8" fill="#fef3c7" stroke="#fbbf24" stroke-width="1"/>
    <text x="90" y="22" text-anchor="middle" font-family="system-ui, -apple-system, sans-serif" font-size="11" font-weight="600" fill="#92400e">Convergence</text>
    <text x="15" y="42" font-family="system-ui, -apple-system, sans-serif" font-size="9" fill="#92400e">Multiple parents = event</text>
    <text x="15" y="56" font-family="system-ui, -apple-system, sans-serif" font-size="9" fill="#92400e">depends on multiple causes</text>
  </g>

  <!-- Bottom note -->
  <rect x="200" y="650" width="500" height="35" rx="6" fill="#f3f4f6" stroke="#d1d5db" stroke-width="1"/>
  <text x="450" y="672" text-anchor="middle" font-family="system-ui, -apple-system, sans-serif" font-size="12" fill="#4b5563">
    Git storage abstracted away - just nodes and edges
  </text>
</svg>
