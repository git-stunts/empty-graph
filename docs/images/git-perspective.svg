<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 700">
  <defs>
    <!-- Gradients -->
    <linearGradient id="commitGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#4a90d9;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#357abd;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="treeGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#e8a838;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#d4922a;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="legendGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#f8f9fa;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#e9ecef;stop-opacity:1" />
    </linearGradient>

    <!-- Arrow marker -->
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#6c757d" />
    </marker>
    <marker id="arrowheadTree" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto">
      <polygon points="0 0, 8 3, 0 6" fill="#d4922a" />
    </marker>

    <!-- Drop shadow filter -->
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-opacity="0.15"/>
    </filter>
  </defs>

  <!-- Background -->
  <rect width="900" height="700" fill="#f8fafc"/>

  <!-- Title -->
  <text x="450" y="35" text-anchor="middle" font-family="system-ui, -apple-system, sans-serif" font-size="22" font-weight="600" fill="#1e293b">Git's View of an EMPTY GRAPH</text>
  <text x="450" y="58" text-anchor="middle" font-family="system-ui, -apple-system, sans-serif" font-size="13" fill="#64748b">E-Commerce Event Graph Example</text>

  <!-- Empty Tree (central element) -->
  <g transform="translate(700, 320)">
    <rect x="-75" y="-45" width="150" height="90" rx="12" fill="url(#treeGradient)" filter="url(#shadow)"/>
    <text x="0" y="-15" text-anchor="middle" font-family="system-ui, -apple-system, sans-serif" font-size="11" font-weight="600" fill="#fff">EMPTY TREE</text>
    <text x="0" y="5" text-anchor="middle" font-family="ui-monospace, monospace" font-size="10" fill="#fff" opacity="0.9">4b825dc...</text>
    <text x="0" y="25" text-anchor="middle" font-family="system-ui, -apple-system, sans-serif" font-size="9" fill="#fff" opacity="0.8">(no files)</text>
  </g>

  <!-- Commit: order-created (root) -->
  <g transform="translate(120, 150)">
    <rect x="-90" y="-40" width="180" height="80" rx="10" fill="url(#commitGradient)" filter="url(#shadow)"/>
    <text x="0" y="-18" text-anchor="middle" font-family="ui-monospace, monospace" font-size="10" fill="#fff" opacity="0.8">a1b2c3d</text>
    <text x="0" y="2" text-anchor="middle" font-family="system-ui, -apple-system, sans-serif" font-size="12" font-weight="600" fill="#fff">order-created</text>
    <text x="0" y="20" text-anchor="middle" font-family="system-ui, -apple-system, sans-serif" font-size="9" fill="#fff" opacity="0.7">{"orderId": "ORD-001"}</text>
    <!-- Arrow to empty tree -->
    <line x1="90" y1="0" x2="530" y2="170" stroke="#d4922a" stroke-width="1.5" stroke-dasharray="4,3" marker-end="url(#arrowheadTree)" opacity="0.6"/>
  </g>

  <!-- Commit: item-added -->
  <g transform="translate(120, 300)">
    <rect x="-90" y="-40" width="180" height="80" rx="10" fill="url(#commitGradient)" filter="url(#shadow)"/>
    <text x="0" y="-18" text-anchor="middle" font-family="ui-monospace, monospace" font-size="10" fill="#fff" opacity="0.8">b2c3d4e</text>
    <text x="0" y="2" text-anchor="middle" font-family="system-ui, -apple-system, sans-serif" font-size="12" font-weight="600" fill="#fff">item-added</text>
    <text x="0" y="20" text-anchor="middle" font-family="system-ui, -apple-system, sans-serif" font-size="9" fill="#fff" opacity="0.7">{"sku": "WIDGET-A"}</text>
    <!-- Arrow to empty tree -->
    <line x1="90" y1="0" x2="530" y2="20" stroke="#d4922a" stroke-width="1.5" stroke-dasharray="4,3" marker-end="url(#arrowheadTree)" opacity="0.6"/>
  </g>

  <!-- Commit: item-added-2 -->
  <g transform="translate(120, 450)">
    <rect x="-90" y="-40" width="180" height="80" rx="10" fill="url(#commitGradient)" filter="url(#shadow)"/>
    <text x="0" y="-18" text-anchor="middle" font-family="ui-monospace, monospace" font-size="10" fill="#fff" opacity="0.8">c3d4e5f</text>
    <text x="0" y="2" text-anchor="middle" font-family="system-ui, -apple-system, sans-serif" font-size="12" font-weight="600" fill="#fff">item-added-2</text>
    <text x="0" y="20" text-anchor="middle" font-family="system-ui, -apple-system, sans-serif" font-size="9" fill="#fff" opacity="0.7">{"sku": "GADGET-B"}</text>
    <!-- Arrow to empty tree -->
    <line x1="90" y1="0" x2="530" y2="-130" stroke="#d4922a" stroke-width="1.5" stroke-dasharray="4,3" marker-end="url(#arrowheadTree)" opacity="0.6"/>
  </g>

  <!-- Commit: payment-received (merge) -->
  <g transform="translate(350, 375)">
    <rect x="-90" y="-40" width="180" height="80" rx="10" fill="url(#commitGradient)" filter="url(#shadow)"/>
    <rect x="-90" y="-40" width="180" height="80" rx="10" fill="none" stroke="#22c55e" stroke-width="2"/>
    <text x="0" y="-18" text-anchor="middle" font-family="ui-monospace, monospace" font-size="10" fill="#fff" opacity="0.8">d4e5f6g</text>
    <text x="0" y="2" text-anchor="middle" font-family="system-ui, -apple-system, sans-serif" font-size="12" font-weight="600" fill="#fff">payment-received</text>
    <text x="0" y="20" text-anchor="middle" font-family="system-ui, -apple-system, sans-serif" font-size="9" fill="#fff" opacity="0.7">{"amount": 149.99}</text>
    <!-- Arrow to empty tree -->
    <line x1="90" y1="-20" x2="255" y2="-55" stroke="#d4922a" stroke-width="1.5" stroke-dasharray="4,3" marker-end="url(#arrowheadTree)" opacity="0.6"/>
  </g>

  <!-- Commit: order-shipped -->
  <g transform="translate(350, 530)">
    <rect x="-90" y="-40" width="180" height="80" rx="10" fill="url(#commitGradient)" filter="url(#shadow)"/>
    <text x="0" y="-18" text-anchor="middle" font-family="ui-monospace, monospace" font-size="10" fill="#fff" opacity="0.8">e5f6g7h</text>
    <text x="0" y="2" text-anchor="middle" font-family="system-ui, -apple-system, sans-serif" font-size="12" font-weight="600" fill="#fff">order-shipped</text>
    <text x="0" y="20" text-anchor="middle" font-family="system-ui, -apple-system, sans-serif" font-size="9" fill="#fff" opacity="0.7">{"tracking": "1Z999..."}</text>
    <!-- Arrow to empty tree -->
    <line x1="90" y1="-20" x2="255" y2="-190" stroke="#d4922a" stroke-width="1.5" stroke-dasharray="4,3" marker-end="url(#arrowheadTree)" opacity="0.6"/>
  </g>

  <!-- Parent arrows (DAG edges) -->
  <!-- order-created -> item-added -->
  <line x1="120" y1="210" x2="120" y2="252" stroke="#6c757d" stroke-width="2.5" marker-end="url(#arrowhead)"/>

  <!-- order-created -> item-added-2 -->
  <path d="M 80 210 Q 50 330 80 402" fill="none" stroke="#6c757d" stroke-width="2.5" marker-end="url(#arrowhead)"/>

  <!-- item-added -> payment-received -->
  <line x1="210" y1="310" x2="255" y2="355" stroke="#6c757d" stroke-width="2.5" marker-end="url(#arrowhead)"/>

  <!-- item-added-2 -> payment-received -->
  <line x1="210" y1="440" x2="255" y2="395" stroke="#6c757d" stroke-width="2.5" marker-end="url(#arrowhead)"/>

  <!-- payment-received -> order-shipped -->
  <line x1="350" y1="423" x2="350" y2="482" stroke="#6c757d" stroke-width="2.5" marker-end="url(#arrowhead)"/>

  <!-- Legend -->
  <g transform="translate(580, 500)">
    <rect x="0" y="0" width="280" height="170" rx="8" fill="url(#legendGradient)" stroke="#dee2e6" stroke-width="1" filter="url(#shadow)"/>
    <text x="140" y="25" text-anchor="middle" font-family="system-ui, -apple-system, sans-serif" font-size="13" font-weight="600" fill="#1e293b">Legend</text>

    <!-- Commit box -->
    <rect x="15" y="42" width="40" height="25" rx="4" fill="url(#commitGradient)"/>
    <text x="65" y="59" font-family="system-ui, -apple-system, sans-serif" font-size="11" fill="#495057">Commit (event node)</text>

    <!-- Empty tree box -->
    <rect x="15" y="77" width="40" height="25" rx="4" fill="url(#treeGradient)"/>
    <text x="65" y="94" font-family="system-ui, -apple-system, sans-serif" font-size="11" fill="#495057">Empty Tree (shared by all)</text>

    <!-- Parent arrow -->
    <line x1="15" y1="120" x2="50" y2="120" stroke="#6c757d" stroke-width="2.5" marker-end="url(#arrowhead)"/>
    <text x="65" y="124" font-family="system-ui, -apple-system, sans-serif" font-size="11" fill="#495057">Parent relationship (DAG)</text>

    <!-- Tree pointer -->
    <line x1="15" y1="148" x2="50" y2="148" stroke="#d4922a" stroke-width="1.5" stroke-dasharray="4,3"/>
    <text x="65" y="152" font-family="system-ui, -apple-system, sans-serif" font-size="11" fill="#495057">Points to tree (always empty)</text>
  </g>

  <!-- Callout note -->
  <g transform="translate(580, 85)">
    <rect x="0" y="0" width="280" height="75" rx="8" fill="#fef3c7" stroke="#f59e0b" stroke-width="1.5"/>
    <text x="15" y="25" font-family="system-ui, -apple-system, sans-serif" font-size="12" font-weight="600" fill="#92400e">Key Insight</text>
    <text x="15" y="45" font-family="system-ui, -apple-system, sans-serif" font-size="10" fill="#78350f">No files created - data lives in</text>
    <text x="15" y="60" font-family="system-ui, -apple-system, sans-serif" font-size="10" fill="#78350f">commit messages as JSON events</text>
  </g>

  <!-- Merge indicator -->
  <g transform="translate(435, 345)">
    <rect x="0" y="0" width="65" height="20" rx="10" fill="#22c55e"/>
    <text x="32" y="14" text-anchor="middle" font-family="system-ui, -apple-system, sans-serif" font-size="9" font-weight="600" fill="#fff">MERGE</text>
  </g>

  <!-- Working directory note -->
  <g transform="translate(580, 180)">
    <rect x="0" y="0" width="280" height="55" rx="8" fill="#e0f2fe" stroke="#0284c7" stroke-width="1"/>
    <text x="15" y="22" font-family="system-ui, -apple-system, sans-serif" font-size="11" font-weight="500" fill="#0369a1">Working directory is empty</text>
    <text x="15" y="40" font-family="system-ui, -apple-system, sans-serif" font-size="10" fill="#0c4a6e">Graph is "invisible" - only exists in .git/</text>
  </g>

</svg>