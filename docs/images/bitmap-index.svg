<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 14.1.2 (20260124.0452)
 -->
<!-- Title: BitmapIndex Pages: 1 -->
<svg width="885pt" height="848pt"
 viewBox="0.00 0.00 885.00 848.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 844)">
<title>BitmapIndex</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-844 881.12,-844 881.12,4 -4,4"/>
<text xml:space="preserve" text-anchor="start" x="296.44" y="-823.7" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="14.00">Roaring Bitmap Index: O(1) Graph Traversal</text>
<text xml:space="preserve" text-anchor="start" x="342.19" y="-813.5" font-family="Helvetica,sans-Serif" font-size="10.00">SHA → ID mapping + bitmap sets for edges</text>
<g id="clust1" class="cluster">
<title>cluster_graph</title>
<path fill="#e3f2fd" stroke="#1976d2" d="M53.27,-568C53.27,-568 484.23,-568 484.23,-568 490.23,-568 496.23,-574 496.23,-580 496.23,-580 496.23,-708 496.23,-708 496.23,-714 490.23,-720 484.23,-720 484.23,-720 53.27,-720 53.27,-720 47.27,-720 41.27,-714 41.27,-708 41.27,-708 41.27,-580 41.27,-580 41.27,-574 47.27,-568 53.27,-568"/>
<text xml:space="preserve" text-anchor="middle" x="268.75" y="-705.55" font-family="Helvetica,sans-Serif" font-size="11.00">Event Graph</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_ids</title>
<path fill="#f3e5f5" stroke="#7b1fa2" d="M223.75,-268C223.75,-268 310.25,-268 310.25,-268 316.25,-268 322.25,-274 322.25,-280 322.25,-280 322.25,-372 322.25,-372 322.25,-378 316.25,-384 310.25,-384 310.25,-384 223.75,-384 223.75,-384 217.75,-384 211.75,-378 211.75,-372 211.75,-372 211.75,-280 211.75,-280 211.75,-274 217.75,-268 223.75,-268"/>
<text xml:space="preserve" text-anchor="middle" x="267" y="-369.55" font-family="Helvetica,sans-Serif" font-size="11.00">SHA → Numeric ID</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_fwd</title>
<path fill="#e8f5e9" stroke="#388e3c" d="M412.25,-288C412.25,-288 522,-288 522,-288 528,-288 534,-294 534,-300 534,-300 534,-548 534,-548 534,-554 528,-560 522,-560 522,-560 412.25,-560 412.25,-560 406.25,-560 400.25,-554 400.25,-548 400.25,-548 400.25,-300 400.25,-300 400.25,-294 406.25,-288 412.25,-288"/>
<text xml:space="preserve" text-anchor="middle" x="467.12" y="-545.55" font-family="Helvetica,sans-Serif" font-size="11.00">Forward Index (children)</text>
</g>
<g id="clust4" class="cluster">
<title>cluster_rev</title>
<path fill="#fff3e0" stroke="#e65100" d="M413,-8C413,-8 521.25,-8 521.25,-8 527.25,-8 533.25,-14 533.25,-20 533.25,-20 533.25,-268 533.25,-268 533.25,-274 527.25,-280 521.25,-280 521.25,-280 413,-280 413,-280 407,-280 401,-274 401,-268 401,-268 401,-20 401,-20 401,-14 407,-8 413,-8"/>
<text xml:space="preserve" text-anchor="middle" x="467.12" y="-265.55" font-family="Helvetica,sans-Serif" font-size="11.00">Reverse Index (parents)</text>
</g>
<g id="clust5" class="cluster">
<title>cluster_query</title>
<path fill="#ffebee" stroke="#c62828" d="M20,-728C20,-728 857.12,-728 857.12,-728 863.12,-728 869.12,-734 869.12,-740 869.12,-740 869.12,-788 869.12,-788 869.12,-794 863.12,-800 857.12,-800 857.12,-800 20,-800 20,-800 14,-800 8,-794 8,-788 8,-788 8,-740 8,-740 8,-734 14,-728 20,-728"/>
<text xml:space="preserve" text-anchor="middle" x="438.56" y="-785.55" font-family="Helvetica,sans-Serif" font-size="11.00">Query: getChildren(A)</text>
</g>
<!-- A -->
<g id="node1" class="node">
<title>A</title>
<ellipse fill="#bbdefb" stroke="#1565c0" stroke-width="1.5" cx="70.88" cy="-598" rx="21.6" ry="21.6"/>
<text xml:space="preserve" text-anchor="middle" x="70.88" y="-594.12" font-family="Helvetica,sans-Serif" font-size="10.00">A</text>
</g>
<!-- B -->
<g id="node2" class="node">
<title>B</title>
<ellipse fill="#bbdefb" stroke="#1565c0" stroke-width="1.5" cx="266.5" cy="-598" rx="21.6" ry="21.6"/>
<text xml:space="preserve" text-anchor="middle" x="266.5" y="-594.12" font-family="Helvetica,sans-Serif" font-size="10.00">B</text>
</g>
<!-- A&#45;&gt;B -->
<g id="edge1" class="edge">
<title>A&#45;&gt;B</title>
<path fill="none" stroke="#1565c0" stroke-width="1.5" d="M91.81,-605.2C91.81,-605.2 233.15,-605.2 233.15,-605.2"/>
<polygon fill="#1565c0" stroke="#1565c0" stroke-width="1.5" points="233.15,-608.7 243.15,-605.2 233.15,-601.7 233.15,-608.7"/>
</g>
<!-- C -->
<g id="node3" class="node">
<title>C</title>
<ellipse fill="#bbdefb" stroke="#1565c0" stroke-width="1.5" cx="266.5" cy="-670" rx="21.6" ry="21.6"/>
<text xml:space="preserve" text-anchor="middle" x="266.5" y="-666.12" font-family="Helvetica,sans-Serif" font-size="10.00">C</text>
</g>
<!-- A&#45;&gt;C -->
<g id="edge2" class="edge">
<title>A&#45;&gt;C</title>
<path fill="none" stroke="#1565c0" stroke-width="1.5" d="M71.12,-619.99C71.12,-641.17 71.12,-670 71.12,-670 71.12,-670 232.2,-670 232.2,-670"/>
<polygon fill="#1565c0" stroke="#1565c0" stroke-width="1.5" points="232.2,-673.5 242.2,-670 232.2,-666.5 232.2,-673.5"/>
</g>
<!-- ids -->
<g id="node5" class="node">
<title>ids</title>
<polygon fill="#e1bee7" stroke="#7b1fa2" stroke-width="1.5" points="227.62,-276.5 227.62,-353.5 305.38,-353.5 305.38,-276.5 227.62,-276.5"/>
<text xml:space="preserve" text-anchor="middle" x="255.88" y="-340" font-family="Helvetica,sans-Serif" font-size="10.00">a1b2c3...</text>
<polyline fill="none" stroke="#7b1fa2" stroke-width="1.5" points="284.12,-334.25 284.12,-353.5"/>
<text xml:space="preserve" text-anchor="middle" x="294.75" y="-340" font-family="Helvetica,sans-Serif" font-size="10.00">0</text>
<polyline fill="none" stroke="#7b1fa2" stroke-width="1.5" points="227.62,-334.25 305.38,-334.25"/>
<text xml:space="preserve" text-anchor="middle" x="255.88" y="-320.75" font-family="Helvetica,sans-Serif" font-size="10.00">b2c3d4...</text>
<polyline fill="none" stroke="#7b1fa2" stroke-width="1.5" points="284.12,-315 284.12,-334.25"/>
<text xml:space="preserve" text-anchor="middle" x="294.75" y="-320.75" font-family="Helvetica,sans-Serif" font-size="10.00">1</text>
<polyline fill="none" stroke="#7b1fa2" stroke-width="1.5" points="227.62,-315 305.38,-315"/>
<text xml:space="preserve" text-anchor="middle" x="255.88" y="-301.5" font-family="Helvetica,sans-Serif" font-size="10.00">c3d4e5...</text>
<polyline fill="none" stroke="#7b1fa2" stroke-width="1.5" points="284.12,-295.75 284.12,-315"/>
<text xml:space="preserve" text-anchor="middle" x="294.75" y="-301.5" font-family="Helvetica,sans-Serif" font-size="10.00">2</text>
<polyline fill="none" stroke="#7b1fa2" stroke-width="1.5" points="227.62,-295.75 305.38,-295.75"/>
<text xml:space="preserve" text-anchor="middle" x="255.25" y="-282.25" font-family="Helvetica,sans-Serif" font-size="10.00">d4e5f6...</text>
<polyline fill="none" stroke="#7b1fa2" stroke-width="1.5" points="282.88,-276.5 282.88,-295.75"/>
<text xml:space="preserve" text-anchor="middle" x="294" y="-282.25" font-family="Helvetica,sans-Serif" font-size="10.00">3</text>
</g>
<!-- A&#45;&gt;ids -->
<g id="edge9" class="edge">
<title>A&#45;&gt;ids</title>
<path fill="none" stroke="#7b1fa2" stroke-width="1.5" stroke-dasharray="5,2" d="M236.12,-568C236.12,-527.15 236.12,-441.52 236.12,-396.16"/>
<polygon fill="#7b1fa2" stroke="#7b1fa2" stroke-width="1.5" points="239.62,-396.27 236.12,-386.27 232.62,-396.27 239.62,-396.27"/>
</g>
<!-- D -->
<g id="node4" class="node">
<title>D</title>
<ellipse fill="#bbdefb" stroke="#1565c0" stroke-width="1.5" cx="466.62" cy="-634" rx="21.6" ry="21.6"/>
<text xml:space="preserve" text-anchor="middle" x="466.62" y="-630.12" font-family="Helvetica,sans-Serif" font-size="10.00">D</text>
</g>
<!-- B&#45;&gt;D -->
<g id="edge3" class="edge">
<title>B&#45;&gt;D</title>
<path fill="none" stroke="#1565c0" stroke-width="1.5" d="M279.63,-616C279.63,-616 441.18,-616 441.18,-616"/>
<polygon fill="#1565c0" stroke="#1565c0" stroke-width="1.5" points="441.18,-619.5 451.18,-616 441.18,-612.5 441.18,-619.5"/>
</g>
<!-- C&#45;&gt;D -->
<g id="edge4" class="edge">
<title>C&#45;&gt;D</title>
<path fill="none" stroke="#1565c0" stroke-width="1.5" d="M279.63,-652C279.63,-652 441.18,-652 441.18,-652"/>
<polygon fill="#1565c0" stroke="#1565c0" stroke-width="1.5" points="441.18,-655.5 451.18,-652 441.18,-648.5 441.18,-655.5"/>
</g>
<!-- fwd_a -->
<g id="node6" class="node">
<title>fwd_a</title>
<polygon fill="#c8e6c9" stroke="#388e3c" stroke-width="1.5" points="409.38,-297 409.38,-333 523.88,-333 523.88,-297 409.38,-297"/>
<text xml:space="preserve" text-anchor="middle" x="434.25" y="-311.5" font-family="Helvetica,sans-Serif" font-size="10.00">A (id=0)</text>
<polyline fill="none" stroke="#388e3c" stroke-width="1.5" points="459.12,-297.75 459.12,-333"/>
<text xml:space="preserve" text-anchor="middle" x="491.5" y="-311.5" font-family="Helvetica,sans-Serif" font-size="10.00">bitmap{1,2}</text>
</g>
<!-- ids&#45;&gt;fwd_a -->
<g id="edge10" class="edge">
<title>ids&#45;&gt;fwd_a</title>
<path fill="none" stroke="#388e3c" stroke-width="1.5" stroke-dasharray="5,2" d="M306.04,-315C306.04,-315 396.7,-315 396.7,-315"/>
<polygon fill="#388e3c" stroke="#388e3c" stroke-width="1.5" points="387.98,-318.5 397.98,-315 387.98,-311.5 387.98,-318.5"/>
</g>
<!-- rev_a -->
<g id="node10" class="node">
<title>rev_a</title>
<polygon fill="#ffe0b2" stroke="#e65100" stroke-width="1.5" points="416.12,-17 416.12,-53 517.12,-53 517.12,-17 416.12,-17"/>
<text xml:space="preserve" text-anchor="middle" x="441" y="-31.5" font-family="Helvetica,sans-Serif" font-size="10.00">A (id=0)</text>
<polyline fill="none" stroke="#e65100" stroke-width="1.5" points="465.88,-17.75 465.88,-53"/>
<text xml:space="preserve" text-anchor="middle" x="491.5" y="-31.5" font-family="Helvetica,sans-Serif" font-size="10.00">bitmap{}</text>
</g>
<!-- ids&#45;&gt;rev_a -->
<g id="edge11" class="edge">
<title>ids&#45;&gt;rev_a</title>
<path fill="none" stroke="#e65100" stroke-width="1.5" stroke-dasharray="5,2" d="M266.12,-275.77C266.12,-198.71 266.12,-35 266.12,-35 266.12,-35 354.22,-35 389.19,-35"/>
<polygon fill="#e65100" stroke="#e65100" stroke-width="1.5" points="388.73,-38.5 398.73,-35 388.73,-31.5 388.73,-38.5"/>
</g>
<!-- fwd_b -->
<g id="node7" class="node">
<title>fwd_b</title>
<polygon fill="#c8e6c9" stroke="#388e3c" stroke-width="1.5" points="413.12,-363 413.12,-399 520.12,-399 520.12,-363 413.12,-363"/>
<text xml:space="preserve" text-anchor="middle" x="438.38" y="-377.5" font-family="Helvetica,sans-Serif" font-size="10.00">B (id=1)</text>
<polyline fill="none" stroke="#388e3c" stroke-width="1.5" points="463.62,-363.75 463.62,-399"/>
<text xml:space="preserve" text-anchor="middle" x="491.88" y="-377.5" font-family="Helvetica,sans-Serif" font-size="10.00">bitmap{3}</text>
</g>
<!-- fwd_c -->
<g id="node8" class="node">
<title>fwd_c</title>
<polygon fill="#c8e6c9" stroke="#388e3c" stroke-width="1.5" points="412.75,-429 412.75,-465 520.5,-465 520.5,-429 412.75,-429"/>
<text xml:space="preserve" text-anchor="middle" x="438.38" y="-443.5" font-family="Helvetica,sans-Serif" font-size="10.00">C (id=2)</text>
<polyline fill="none" stroke="#388e3c" stroke-width="1.5" points="464,-429.75 464,-465"/>
<text xml:space="preserve" text-anchor="middle" x="492.25" y="-443.5" font-family="Helvetica,sans-Serif" font-size="10.00">bitmap{3}</text>
</g>
<!-- fwd_d -->
<g id="node9" class="node">
<title>fwd_d</title>
<polygon fill="#c8e6c9" stroke="#388e3c" stroke-width="1.5" points="415.38,-495 415.38,-531 517.88,-531 517.88,-495 415.38,-495"/>
<text xml:space="preserve" text-anchor="middle" x="441" y="-509.5" font-family="Helvetica,sans-Serif" font-size="10.00">D (id=3)</text>
<polyline fill="none" stroke="#388e3c" stroke-width="1.5" points="466.62,-495.75 466.62,-531"/>
<text xml:space="preserve" text-anchor="middle" x="492.25" y="-509.5" font-family="Helvetica,sans-Serif" font-size="10.00">bitmap{}</text>
</g>
<!-- rev_b -->
<g id="node11" class="node">
<title>rev_b</title>
<polygon fill="#ffe0b2" stroke="#e65100" stroke-width="1.5" points="413.12,-83 413.12,-119 520.12,-119 520.12,-83 413.12,-83"/>
<text xml:space="preserve" text-anchor="middle" x="438.38" y="-97.5" font-family="Helvetica,sans-Serif" font-size="10.00">B (id=1)</text>
<polyline fill="none" stroke="#e65100" stroke-width="1.5" points="463.62,-83.75 463.62,-119"/>
<text xml:space="preserve" text-anchor="middle" x="491.88" y="-97.5" font-family="Helvetica,sans-Serif" font-size="10.00">bitmap{0}</text>
</g>
<!-- rev_c -->
<g id="node12" class="node">
<title>rev_c</title>
<polygon fill="#ffe0b2" stroke="#e65100" stroke-width="1.5" points="412.75,-149 412.75,-185 520.5,-185 520.5,-149 412.75,-149"/>
<text xml:space="preserve" text-anchor="middle" x="438.38" y="-163.5" font-family="Helvetica,sans-Serif" font-size="10.00">C (id=2)</text>
<polyline fill="none" stroke="#e65100" stroke-width="1.5" points="464,-149.75 464,-185"/>
<text xml:space="preserve" text-anchor="middle" x="492.25" y="-163.5" font-family="Helvetica,sans-Serif" font-size="10.00">bitmap{0}</text>
</g>
<!-- rev_d -->
<g id="node13" class="node">
<title>rev_d</title>
<polygon fill="#ffe0b2" stroke="#e65100" stroke-width="1.5" points="408.62,-215 408.62,-251 524.62,-251 524.62,-215 408.62,-215"/>
<text xml:space="preserve" text-anchor="middle" x="434.25" y="-229.5" font-family="Helvetica,sans-Serif" font-size="10.00">D (id=3)</text>
<polyline fill="none" stroke="#e65100" stroke-width="1.5" points="459.88,-215.75 459.88,-251"/>
<text xml:space="preserve" text-anchor="middle" x="492.25" y="-229.5" font-family="Helvetica,sans-Serif" font-size="10.00">bitmap{1,2}</text>
</g>
<!-- q1 -->
<g id="node14" class="node">
<title>q1</title>
<path fill="#ffcdd2" stroke="#c62828" stroke-width="1.5" d="M113.75,-772C113.75,-772 28,-772 28,-772 22,-772 16,-766 16,-760 16,-760 16,-748 16,-748 16,-742 22,-736 28,-736 28,-736 113.75,-736 113.75,-736 119.75,-736 125.75,-742 125.75,-748 125.75,-748 125.75,-760 125.75,-760 125.75,-766 119.75,-772 113.75,-772"/>
<text xml:space="preserve" text-anchor="middle" x="70.88" y="-750.88" font-family="Helvetica,sans-Serif" font-size="10.00">1. Lookup A&#39;s ID → 0</text>
</g>
<!-- q2 -->
<g id="node15" class="node">
<title>q2</title>
<path fill="#ffcdd2" stroke="#c62828" stroke-width="1.5" d="M301.5,-772C301.5,-772 231.5,-772 231.5,-772 225.5,-772 219.5,-766 219.5,-760 219.5,-760 219.5,-748 219.5,-748 219.5,-742 225.5,-736 231.5,-736 231.5,-736 301.5,-736 301.5,-736 307.5,-736 313.5,-742 313.5,-748 313.5,-748 313.5,-760 313.5,-760 313.5,-766 307.5,-772 301.5,-772"/>
<text xml:space="preserve" text-anchor="middle" x="266.5" y="-750.12" font-family="Helvetica,sans-Serif" font-size="10.00">2. Load fwd shard</text>
</g>
<!-- q1&#45;&gt;q2 -->
<g id="edge5" class="edge">
<title>q1&#45;&gt;q2</title>
<path fill="none" stroke="#c62828" stroke-width="1.5" d="M126.41,-754C126.41,-754 206.52,-754 206.52,-754"/>
<polygon fill="#c62828" stroke="#c62828" stroke-width="1.5" points="206.52,-757.5 216.52,-754 206.52,-750.5 206.52,-757.5"/>
</g>
<!-- q3 -->
<g id="node16" class="node">
<title>q3</title>
<path fill="#ffcdd2" stroke="#c62828" stroke-width="1.5" d="M502,-772C502,-772 431.25,-772 431.25,-772 425.25,-772 419.25,-766 419.25,-760 419.25,-760 419.25,-748 419.25,-748 419.25,-742 425.25,-736 431.25,-736 431.25,-736 502,-736 502,-736 508,-736 514,-742 514,-748 514,-748 514,-760 514,-760 514,-766 508,-772 502,-772"/>
<text xml:space="preserve" text-anchor="middle" x="466.62" y="-750.12" font-family="Helvetica,sans-Serif" font-size="10.00">3. Get bitmap{1,2}</text>
</g>
<!-- q2&#45;&gt;q3 -->
<g id="edge6" class="edge">
<title>q2&#45;&gt;q3</title>
<path fill="none" stroke="#c62828" stroke-width="1.5" d="M314.18,-754C314.18,-754 406.35,-754 406.35,-754"/>
<polygon fill="#c62828" stroke="#c62828" stroke-width="1.5" points="406.35,-757.5 416.35,-754 406.35,-750.5 406.35,-757.5"/>
</g>
<!-- q4 -->
<g id="node17" class="node">
<title>q4</title>
<path fill="#ffcdd2" stroke="#c62828" stroke-width="1.5" d="M686.5,-772C686.5,-772 624,-772 624,-772 618,-772 612,-766 612,-760 612,-760 612,-748 612,-748 612,-742 618,-736 624,-736 624,-736 686.5,-736 686.5,-736 692.5,-736 698.5,-742 698.5,-748 698.5,-748 698.5,-760 698.5,-760 698.5,-766 692.5,-772 686.5,-772"/>
<text xml:space="preserve" text-anchor="middle" x="655.25" y="-750.12" font-family="Helvetica,sans-Serif" font-size="10.00">4. Map to [B, C]</text>
</g>
<!-- q3&#45;&gt;q4 -->
<g id="edge7" class="edge">
<title>q3&#45;&gt;q4</title>
<path fill="none" stroke="#c62828" stroke-width="1.5" d="M514.71,-754C514.71,-754 599.18,-754 599.18,-754"/>
<polygon fill="#c62828" stroke="#c62828" stroke-width="1.5" points="599.18,-757.5 609.18,-754 599.18,-750.5 599.18,-757.5"/>
</g>
<!-- q5 -->
<g id="node18" class="node">
<title>q5</title>
<ellipse fill="#c8e6c9" stroke="#388e3c" stroke-width="1.5" cx="822.81" cy="-754" rx="38.31" ry="18"/>
<text xml:space="preserve" text-anchor="middle" x="822.81" y="-750.12" font-family="Helvetica,sans-Serif" font-size="10.00">O(1) result!</text>
</g>
<!-- q4&#45;&gt;q5 -->
<g id="edge8" class="edge">
<title>q4&#45;&gt;q5</title>
<path fill="none" stroke="#c62828" stroke-width="1.5" d="M698.84,-754C698.84,-754 771.74,-754 771.74,-754"/>
<polygon fill="#c62828" stroke="#c62828" stroke-width="1.5" points="771.74,-757.5 781.74,-754 771.74,-750.5 771.74,-757.5"/>
</g>
</g>
</svg>
